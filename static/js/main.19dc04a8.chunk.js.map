{"version":3,"sources":["assets/images/logo-nb.png","helpers/prompt.js","helpers/firebase.js","containers/PostsContainer.jsx","components/LikeCounter.jsx","helpers/formatData.js","components/PostCard.jsx","components/BottomAppNavigation.jsx","components/Navigation.jsx","layouts/Home.jsx","containers/UserPostsContainer.jsx","layouts/Profile.jsx","helpers/imageFiles.js","components/CapturePhoto.jsx","components/AddInfo.jsx","components/AddFile.jsx","layouts/AddPost.jsx","components/ScrollToTop.jsx","layouts/Login.jsx","containers/PostContainer.jsx","components/PostActions.jsx","layouts/Post.jsx","layouts/Settings.jsx","components/PrivateRoute.jsx","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","window","addEventListener","event","console","log","preventDefault","firebase","initializeApp","apiKey","authDomain","databaseURL","storageBucket","auth","GoogleAuthProvider","PostsContainer","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getPosts","postsRef","database","ref","orderByChild","posts","on","snapshot","forEach","child","push","val","reverse","setState","status","state","off","children","PureComponent","LikeCounter","handleLike","post_id","user","likes","count_upd","count","users_upd","users","like_index","indexOf","splice","update","_this2","_this$props","postId","classes","current_user","localStorage","getItem","JSON","parse","liked","uid","react_default","a","createElement","Fragment","IconButton_default","aria-label","onClick","Favorite_default","className","Component","withStyles","theme","fontSize","color","red","formatData","data","now","Date","formatted","dd","getDate","mm","getMonth","diff","getTime","diff_min","Math","abs","round","pl","num","result","diff_hour","PostCard","handleExpandClick","expanded","time","content","interval","setInterval","_this$state","img","geo","shortText","longText","Card_default","card","CardHeader_default","avatar","Avatar_default","name","toUpperCase","title","subheader","src","alt","media","CardContent_default","localization","Place_default","iconGeo","Typography_default","component","CardActions_default","actions","disableActionSpacing","components_LikeCounter","classnames","expand","defineProperty","expandOpen","aria-expanded","ExpandMore_default","Collapse_default","in","timeout","unmountOnExit","paragraph","React","maxWidth","borderRadius","boxShadow","width","display","transform","transition","transitions","create","duration","shortest","marginLeft","breakpoints","up","marginRight","backgroundColor","alignItems","height","BottomAppNavigation","location","handleSwitch","step","camera","pathname","BottomNavigation_default","root","BottomNavigationAction_default","button","label","icon","NavLink","to","activeClassName","exact","Home_default","Add_default","Person_default","classNames","textButton","bottomNavigationWithRouter","withRouter","position","bottom","left","borderTop","zIndex","flex","textTransform","fontWeight","fontFamily","lineHeight","Navigation","goBack","history","imgSent","singlePost","openActions","onlyBack","AppBar_default","appbar","Toolbar_default","toolbar","Link","logo","logoimage","ArrowBackIos_default","link","index_es","Settings_default","MoreVert_default","navigationWithRouter","flexGrow","borderBottom","grow","menuButton","lefticon","justifyContent","layout","spacing","unit","cardGrid","padding","concat","cardItemGrid","cardItem","margin","center","top","components_Navigation","PostsContainer_PostsContainer","progress","size","thickness","Grid_default","container","length","map","post","index","item","key","xs","sm","md","lg","components_PostCard","variant","components_BottomAppNavigation","user_id","id","Profile","switchView","view","count_likes","count_num","count_likes_num","postCounter","postCounterButton","buttonActive","heading","counter","_this3","renderList","listType","gridList","cols","gridListTile","gridImg","profile","displayName","email","UserPostsContainer_PostsContainer","renderPostsCounter","marginBottom","marginTop","border","textAlign","borderRight","boxSizing","background","objectFit","dataURItoBlob","dataURI","byteString","atob","split","mimeString","ab","ArrayBuffer","ia","Uint8Array","i","charCodeAt","Blob","type","styles","captureButton","cx","CapturePhoto","showCamera","navigator","mediaDevices","getUserMedia","video","then","stream","videoStream","srcObject","catch","err","captureImage","videoClass","hidden","canvasClass","canva","buttonClass","autoPlay","canvas","Camera_default","AddInfo","handleChange","values","textField","value","onChange","AddFile","handleAddFile","accept","AddPost","target","files","handleSend","imageId","uuid","imgRef","storage","today","put","getDownloadURL","url","itemsRef","imageid","set","context","getContext","videoHeight","videoWidth","drawImage","getVideoTracks","track","stop","toDataURL","renderStep","components_CapturePhoto","AddFile_AddFile","components_AddInfo","lat","long","fetch","async","crossDomain","method","res","json","address","city","town","geolocation","getCurrentPosition","getCity","coords","latitude","longitude","_this$state2","noValidate","autoComplete","form","objectSpread","mixins","gutters","paddingTop","paddingBottom","ScrollToTop","prevProps","scrollTo","Login","catchError","error","errorMessage","message","alert","login","password","signInWithEmailAndPassword","register","createUserWithEmailAndPassword","currentUser","updateProfile","username","userId","usersRef","reload","toggleType","_ref","main","CssBaseline_default","Paper_default","paper","LockOutlined_default","FormControl_default","required","fullWidth","InputLabel_default","htmlFor","Input_default","autoFocus","Button_default","submit","typeLink","flexDirection","palette","secondary","getPost","postRef","PostActions","handleDelete","go","remove","onClose","selectedValue","other","objectWithoutProperties","Dialog_default","assign","aria-labelledby","List_default","actionList","ListItem_default","ListItemText_default","primary","action","minWidth","Post","handleClickOpen","open","handleClose","PostContainer_PostsContainer","components_PostActions","Settings","newLogin","newEmail","newPassword","panel","handleLogout","signOut","removeItem","handleEdit","handleToggle","checked","handleUpdateFirebase","updateEmail","authFirebaseListener","onAuthStateChanged","setItem","stringify","settings","new","placeholder","description","setting","ExpansionPanel_default","ExpansionPanelSummary_default","expandIcon","secondaryHeading","ExpansionPanelDetails_default","FormGroup_default","row","FormControlLabel_default","control","Switch_default","panelButton","overflowX","minHeight","flexBasis","flexShrink","text","iconSmall","borderLeft","PrivateRoute","isLogged","rest","Route","render","Redirect_default","from","App","Boolean","BrowserRouter_default","basename","process","components_ScrollToTop","path","Home","match","layouts_Post","params","hostname","ReactDOM","src_App_0","document","getElementById","serviceWorker"],"mappings":"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","file":"static/js/main.19dc04a8.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","let deferredPrompt;\nwindow.addEventListener('beforeinstallprompt', (event) => {\n  console.log('beforeinstallprompt fired');\n  event.preventDefault();\n  deferredPrompt = event;\n  return false;\n})","import firebase from 'firebase';\n// import firebase from 'firebase/app';\n// import 'firebase/auth';\n// import 'firebase/database';\n\nexport const firebaseConfig = {\n    apiKey: \"AIzaSyBot5tOfkhdUCvJsWh6sk--42syvvJwM4M\",\n    authDomain: \"spot-pwa.firebaseio.com/\",\n    databaseURL: \"https://spot-pwa.firebaseio.com\",\n    storageBucket: \"spot-pwa.appspot.com\"\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\nexport default firebase;","import { PureComponent } from 'react';\nimport firebase from '../helpers/firebase';\n\n\nexport default class PostsContainer extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      status: 'loading',\n      posts: null\n    }\n  }\n\n  componentDidMount() {\n    this.getPosts();\n  }\n\n  componentWillUnmount() {\n    this.postsRef.off();\n  }\n\n  getPosts = () => {\n    this.postsRef = firebase.database().ref('posts').orderByChild('data');\n    let posts = [];\n    this.postsRef.on('value', (snapshot) => {\n      snapshot.forEach((child) => {\n        posts.push(child.val());\n      })\n      posts.reverse();\n      this.setState({ posts, status: 'loaded' })\n    });\n  }\n\n  render() {\n    return this.props.children(this.state.posts, this.state.status)\n  }\n\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport firebase from '../helpers/firebase';\nimport { withStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport red from '@material-ui/core/colors/red';\n\nconst styles = theme => ({\n  likes: {\n    fontSize: 12,\n    color: '#979797'\n  },\n  liked: {\n    color: red[500]\n  }\n});\n\nclass LikeCounter extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      likes: {\n        count: 0,\n        users: []\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      likes: this.props.likes\n    })\n  }\n\n  handleLike = (post_id, user, likes) => {\n    if (user) {\n      let count_upd = likes.count;\n      let users_upd = likes.users ? likes.users : [];\n      const like_index = users_upd.indexOf(user);\n      if (like_index < 0) {\n        count_upd++;\n        users_upd.push(user);\n      } else {\n        count_upd--;\n        users_upd.splice(like_index, 1)\n      }\n      firebase.database().ref('posts/' + post_id).update({\n        likes: {\n          count: count_upd,\n          users: users_upd\n        }\n      });\n      this.setState({\n        likes: {\n          count: count_upd,\n          users: users_upd\n        }\n      })\n    } else {\n      // TODO: przekierowanie do logowania\n      console.log('nope')\n    }\n  }\n\n  render() {\n    const { likes } = this.state;\n    const { postId, classes } = this.props;\n    const current_user = localStorage.getItem('user_data') ? JSON.parse(localStorage.getItem('user_data')) : null;\n    const liked = current_user && likes.users ? likes.users.indexOf(current_user.uid) >= 0 : false;\n    return (\n      <>\n        <IconButton aria-label=\"Polajkuj\" onClick={() => this.handleLike(postId, current_user ? current_user.uid : null, likes)}>\n          <FavoriteIcon className={liked ? classes.liked : ''} />\n        </IconButton>\n        <span className={classes.likes}>{likes && likes.count}</span>\n      </>\n    )\n  }\n}\n\nLikeCounter.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(LikeCounter);","export const formatData = (data) => {\n  let now = new Date();\n  let formatted = new Date(data);\n  let dd = formatted.getDate();\n  let mm = formatted.getMonth() + 1;\n  if (dd < 10) {\n    dd = '0' + dd\n  };\n  var diff = (now.getTime() - formatted.getTime()) / 1000;\n  const diff_min = Math.abs(Math.round(diff / 60));\n  const pl = (num) => {\n    if (num === 1) {\n      return 'ę';\n    } else if (num > 1 && num < 5) {\n      return 'y';\n    }\n    return '';\n  }\n  let result = diff_min + ' minut' + pl(diff_min) + ' temu';\n  if (diff_min >= 60 && diff_min < (60 * 24)) {\n    const diff_hour = Math.abs(Math.round(diff / (60 * 60)));\n    result = diff_hour + ' godzin' + pl(diff_hour) + ' temu'\n  } else if (diff_min >= (60 * 24)) {\n    const month = ['stycznia', 'lutego', 'marca', 'kwietnia', 'maja', 'czerwca', 'lipca', 'sierpnia', 'września', 'października', 'listopada', 'grudnia']\n    result = dd + ' ' + month[mm]\n  }\n  return result\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Collapse from '@material-ui/core/Collapse';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport red from '@material-ui/core/colors/red';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport PlaceIcon from '@material-ui/icons/Place';\nimport classnames from 'classnames';\nimport LikeCounter from './LikeCounter';\nimport { formatData } from '../helpers/formatData';\n\nconst styles = theme => ({\n  card: {\n    maxWidth: 400,\n    borderRadius: 0,\n    boxShadow: 'none'\n  },\n  media: {\n    width: '100%'\n  },\n  actions: {\n    display: 'flex'\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n    marginLeft: 'auto',\n    [theme.breakpoints.up('sm')]: {\n      marginRight: -8,\n    },\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n  avatar: {\n    backgroundColor: red[500],\n  },\n  localization: {\n    color: 'rgba(0, 0, 0, 0.54)',\n    fontSize: 12,\n    display: 'flex',\n    alignItems: 'center'\n  },\n  iconGeo: {\n    width: 14,\n    height: 14\n  }\n});\n\nclass PostCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false,\n      time: null\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      time: formatData(this.props.content.data)\n    })\n    this.interval = setInterval(() => this.setState({\n      time: formatData(this.props.content.data)\n    }), 60 * 1000);\n  }\n\n  handleExpandClick = () => {\n    this.setState(state => ({ expanded: !state.expanded }));\n  };\n\n  render() {\n    const { classes, content } = this.props;\n    const { expanded, time } = this.state;\n    const { postId, user, img, geo, shortText, longText, likes } = content;\n    return (\n      <Card className={classes.card}>\n        <CardHeader\n          avatar={\n            <Avatar className={classes.avatar}>{user && user.name[0].toUpperCase()}</Avatar>\n          }\n          title={user.name}\n          subheader={time}\n        />\n        {/* <CardMedia className={classes.media} image={img} title={shortText} */}\n        <img src={img} alt={shortText} className={classes.media} />\n        <CardContent>\n          <p className={classes.localization}>\n            <PlaceIcon className={classes.iconGeo} />\n            {geo}\n          </p>\n          <Typography component=\"p\">\n            {shortText}\n          </Typography>\n        </CardContent>\n        <CardActions className={classes.actions} disableActionSpacing>\n          <LikeCounter likes={likes} postId={postId} />\n          <IconButton\n            className={classnames(classes.expand, {\n              [classes.expandOpen]: expanded,\n            })}\n            onClick={this.handleExpandClick}\n            aria-expanded={expanded}\n            aria-label=\"Pokaż więcej\"\n          >\n            <ExpandMoreIcon />\n          </IconButton>\n        </CardActions>\n        <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n          <CardContent>\n            <Typography paragraph>\n              {longText}\n            </Typography>\n          </CardContent>\n        </Collapse>\n      </Card>\n    );\n  }\n}\n\nPostCard.propTypes = {\n  classes: PropTypes.object.isRequired,\n  content: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(PostCard);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nimport { withRouter } from \"react-router\";\nimport { withStyles } from '@material-ui/core/styles';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport HomeIcon from '@material-ui/icons/Home';\nimport PersonIcon from '@material-ui/icons/Person';\nimport AddIcon from '@material-ui/icons/Add';\nimport classNames from 'classnames';\n\nconst styles = {\n  root: {\n    width: '100%',\n    position: 'fixed',\n    bottom: 0,\n    left: 0,\n    boxShadow: 'none',\n    borderTop: '1px solid #eee',\n    backgroundColor: '#fafafa',\n    zIndex: 1\n  },\n  icon: {\n    color: '#2129857a'\n  },\n  button: {\n    color: 'inherit'\n  },\n  flex: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  textButton: {\n    color: '#2129857a',\n    textTransform: 'uppercase',\n    fontWeight: 500,\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n    fontSize: '0.875rem',\n    lineHeight: '0.875rem'\n  }\n};\n\nclass BottomAppNavigation extends React.Component {\n  render() {\n    const { classes, location, handleSwitch, step, camera } = this.props;\n\n    return (\n      <>\n        {location.pathname !== '/add' ?\n          <BottomNavigation\n            className={classes.root}\n          >\n            <BottomNavigationAction\n              className={classes.button}\n              label=\"Home\"\n              icon={<NavLink\n                to=\"/\"\n                activeClassName='iconactive'\n                exact={true}\n                className={classes.icon}\n              ><HomeIcon /></NavLink>}\n            />\n            <BottomNavigationAction\n              label=\"Add\"\n              className={classes.button}\n              icon={<NavLink\n                to=\"/add\"\n                activeClassName='iconactive'\n                exact={true}\n                className={classes.icon}\n              ><AddIcon /></NavLink>}\n            />\n            <BottomNavigationAction\n              label=\"Profile\"\n              className={classes.button}\n              icon={<NavLink\n                to={\"/profile\"}\n                activeClassName='iconactive'\n                exact={true}\n                className={classes.icon}\n              ><PersonIcon /></NavLink>}\n            />\n          </BottomNavigation>\n          :\n          <BottomNavigation\n            className={classes.root}\n          >\n            {camera &&\n              <BottomNavigationAction\n                className={classNames(classes.button, classes.textButton + ' ' + (step === 1 && 'activeTextButton'))}\n                onClick={handleSwitch(1)}\n                icon={\"Zdjęcie\"}\n              />\n            }\n            <BottomNavigationAction\n              className={classNames(classes.button, classes.textButton + ' ' + (step === 2 && 'activeTextButton'))}\n              icon={\"Galeria\"}\n              onClick={handleSwitch(2)}\n            />\n          </BottomNavigation>\n        }\n\n      </>\n    );\n  }\n}\n\nBottomAppNavigation.propTypes = {\n  classes: PropTypes.object.isRequired,\n  location: PropTypes.object.isRequired,\n  handleSwitch: PropTypes.func,\n  step: PropTypes.number,\n  camera: PropTypes.bool\n};\n\nconst bottomNavigationWithRouter = withRouter(BottomAppNavigation);\n\nexport default withStyles(styles)(bottomNavigationWithRouter);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { withRouter } from \"react-router\";\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { Button } from '@material-ui/core';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport logo from 'assets/images/logo-nb.png';\n\nconst styles = {\n\troot: {\n\t\tflexGrow: 1\n\t},\n\tappbar: {\n\t\tbackgroundColor: '#fafafa',\n\t\tboxShadow: 'none',\n\t\tborderBottom: '1px solid #eee',\n\t},\n\tgrow: {\n\t\tflexGrow: 1,\n\t},\n\tmenuButton: {\n\t\tmarginLeft: -12,\n\t\tmarginRight: 20,\n\t},\n\tlogo: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center'\n\t},\n\tlogoimage: {\n\t\theight: 40\n\t},\n\tlink: {\n\t\tcolor: '#212985'\n\t},\n\tlefticon: {\n\t\tmarginRight: 30\n\t},\n\ttoolbar: {\n\t\tjustifyContent: 'space-between'\n\t}\n};\n\nclass Navigation extends React.Component {\n\tgoBack = () => {\n\t\tthis.props.history.goBack();\n\t}\n\n\trender() {\n\t\tconst { classes, location, handleSwitch, imgSent, step, singlePost, openActions, onlyBack } = this.props;\n\t\treturn (\n\t\t\t<div className={classes.root}>\n\t\t\t\t<AppBar position=\"fixed\" className={classes.appbar}>\n\t\t\t\t\t<Toolbar className={classes.toolbar}>\n\t\t\t\t\t\t{!singlePost && !onlyBack &&\n\t\t\t\t\t\t\t<Link to=\"/\" className={classes.logo}>\n\t\t\t\t\t\t\t\t<img src={logo} alt=\"\" className={classes.logoimage} />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{(singlePost || onlyBack) &&\n\t\t\t\t\t\t\t<ArrowBackIosIcon className={classes.link} onClick={() => this.goBack()} />\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{location.pathname === '/add' && imgSent && step !== 3 &&\n\t\t\t\t\t\t\t<Button className={classes.link} onClick={handleSwitch(3)}>\n\t\t\t\t\t\t\t\tDalej\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{location.pathname === '/add' && imgSent && step === 3 &&\n\t\t\t\t\t\t\t<Button className={classes.link} onClick={handleSwitch(1)}>\n\t\t\t\t\t\t\t\tWróć\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{location.pathname === '/profile' &&\n\t\t\t\t\t\t\t<Link to=\"/settings\" >\n\t\t\t\t\t\t\t\t<SettingsIcon className={classes.link} />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{singlePost && openActions &&\n\t\t\t\t\t\t\t<MoreVertIcon className={classes.link} onClick={() => openActions()} />\n\t\t\t\t\t\t}\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nNavigation.propTypes = {\n\tclasses: PropTypes.object,\n\tlocation: PropTypes.object,\n\thandleSwitch: PropTypes.func,\n\timgSent: PropTypes.bool,\n\tstep: PropTypes.number,\n\tsinglePost: PropTypes.bool,\n\topenActions: PropTypes.func,\n\tonlyBack: PropTypes.bool\n};\n\nconst navigationWithRouter = withRouter(Navigation);\n\nexport default withStyles(styles)(navigationWithRouter);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Grid from '@material-ui/core/Grid';\nimport { withStyles } from '@material-ui/core/styles';\nimport PostsContainer from 'containers/PostsContainer';\nimport PostCard from 'components/PostCard';\nimport BottomAppNavigation from 'components/BottomAppNavigation';\nimport Navigation from 'components/Navigation';\nimport { Typography, CircularProgress } from '@material-ui/core';\n\nconst styles = theme => ({\n  layout: {\n    width: 'auto',\n    marginLeft: theme.spacing.unit * 3,\n    marginRight: theme.spacing.unit * 3,\n    [theme.breakpoints.up(1100 + theme.spacing.unit * 3 * 2)]: {\n      width: 1100,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    }\n  },\n  cardGrid: {\n    padding: `${theme.spacing.unit * 4}px 0 !important`\n  },\n  cardItemGrid: {\n    padding: '0 !important'\n  },\n  cardItem: {\n    width: 'calc(100% + 48px)',\n    margin: -24\n  },\n  center: {\n    width: '100%',\n    height: '100vh',\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});\n\n\nfunction Home(props) {\n  const { classes } = props;\n\n  return (\n    <div className={classNames(classes.layout, classes.cardGrid)}>\n      <>\n        <Navigation />\n        <PostsContainer>\n          {(posts, status) => {\n            if (status === 'loading') {\n              return (\n                <div className={classes.center}>\n                  <CircularProgress className={classes.progress} size={30} thickness={5} />\n                </div>\n              )\n            }\n            return (\n              <Grid container spacing={40} className={classes.cardItem}>\n                {posts.length > 0 ?\n                  posts.map((post, index) => (\n                    <Grid item key={index} xs={12} sm={6} md={4} lg={3} className={classes.cardItemGrid}>\n                      <PostCard content={post} />\n                    </Grid>\n                  )) : (\n                    <Typography\n                      variant=\"subheading\"\n                      className={classes.center}\n                    >\n                      Brak postów do wyświetlenia\n                  </Typography>\n                  )}\n              </Grid>\n            )\n          }}\n        </PostsContainer>\n        <BottomAppNavigation />\n      </>\n    </div>\n  );\n}\n\nHome.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\n\nexport default withStyles(styles)(Home);","import { PureComponent } from 'react';\nimport firebase from '../helpers/firebase';\n\n\nexport default class PostsContainer extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      status: 'loading',\n      likes: [],\n      posts: []\n    }\n  }\n\n  componentDidMount() {\n    this.getPosts();\n  }\n\n  componentWillUnmount() {\n    this.postsRef.off();\n  }\n\n  getPosts = () => {\n    this.postsRef = firebase.database().ref('posts').orderByChild('data');\n    const user_id = JSON.parse(localStorage.getItem('user_data')).uid;\n    let posts = [];\n    let likes = [];\n    this.postsRef.on('value', (snapshot) => {\n      snapshot.forEach((child) => {\n        if (child.val().user.id === user_id) {\n          posts.push(child.val());\n        }\n        if (child.val().likes.users) {\n          if (child.val().likes.users.indexOf(user_id) >= 0) {\n            likes.push(child.val());\n          }\n        }\n      })\n      posts.reverse();\n      likes.reverse();\n      this.setState({ posts, likes, status: 'loaded' })\n    });\n  }\n\n  render() {\n    return this.props.children(this.state.posts, this.state.likes, this.state.status)\n  }\n\n}\n","import React, { PureComponent } from 'react'\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Avatar from '@material-ui/core/Avatar';\nimport red from '@material-ui/core/colors/red';\nimport { Typography, CircularProgress, GridListTile, GridList } from '@material-ui/core';\nimport BottomAppNavigation from 'components/BottomAppNavigation';\nimport Navigation from 'components/Navigation';\nimport UserPostsContainer from '../containers/UserPostsContainer';\nimport classnames from 'classnames';\nimport { Link } from 'react-router-dom';\n\nconst styles = theme => ({\n  profile: {\n    maxWidth: 400,\n    borderRadius: 0,\n    boxShadow: 'none'\n  },\n  avatar: {\n    backgroundColor: red[500],\n  },\n  heading: {\n    lineHeight: '1em',\n    color: '#999',\n    marginBottom: 5,\n    marginTop: 15\n  },\n  counter: {\n    lineHeight: '1em',\n    marginBottom: 15\n  },\n  gridList: {\n    margin: '0 !important'\n  },\n  postCounter: {\n    border: '1px solid #eee',\n    textAlign: 'center'\n  },\n  postCounterButton: {\n    width: '50%',\n    borderRight: '1px solid #eee',\n    display: 'inline-block',\n    boxSizing: 'border-box'\n  },\n  buttonActive: {\n    background: '#fafafa'\n  },\n  center: {\n    width: '100% !important',\n    height: '100vh !important',\n    zIndex: -1,\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  gridImg: {\n    objectFit: 'cover',\n    width: '100%',\n    height: '100%'\n  }\n});\n\nclass Profile extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      view: 'posts'\n    }\n  }\n\n  switchView = (view) => {\n    this.setState({ view })\n  }\n\n  renderPostsCounter(count, count_likes) {\n    const { classes } = this.props;\n    const { view } = this.state;\n    const count_num = count.length === 0 ? 0 : count;\n    const count_likes_num = count_likes.length === 0 ? 0 : count_likes;\n    return (\n      <div className={classes.postCounter}>\n        <div className={classnames(classes.postCounterButton, view === 'posts' ? classes.buttonActive : '')} onClick={() => this.switchView('posts')}>\n          <Typography variant=\"overline\" className={classes.heading}>Moje posty</Typography>\n          <Typography variant=\"overline\" className={classes.counter}>{count_num}</Typography>\n        </div>\n        <div className={classnames(classes.postCounterButton, view === 'likes' ? classes.buttonActive : '')} onClick={() => this.switchView('likes')}>\n          <Typography variant=\"overline\" className={classes.heading}>Polubione</Typography>\n          <Typography variant=\"overline\" className={classes.counter}>{count_likes_num}</Typography>\n        </div>\n      </div >\n    )\n  }\n\n  render() {\n    const { view } = this.state;\n    const { classes } = this.props;\n    const user = JSON.parse(localStorage.getItem('user_data'));\n    const renderList = (listType) => {\n      return (\n        <GridList spacing={0} className={classes.gridList}>\n          {listType.length > 0 ?\n            listType.map((post, index) => (\n              <GridListTile cols={1} key={index} className={classes.gridListTile}>\n                <Link to={'/post/' + post.postId}>\n                  <img src={post.img} alt={post.shortText} className={classes.gridImg} />\n                </Link>\n              </GridListTile>\n            )) : (\n              <div className={classes.center}>\n                <Typography variant=\"subheading\">\n                  Brak postów do wyświetlenia\n\t\t\t\t\t\t </Typography>\n              </div>\n            )}\n        </GridList>\n      )\n    }\n    return (\n      <>\n        <Navigation />\n        <Card className={classes.profile}>\n          <CardHeader\n            avatar={\n              <Avatar className={classes.avatar}>{user.displayName ? user.displayName[0].toUpperCase() : ''}</Avatar>\n            }\n            title={user ? user.displayName : ''}\n            subheader={user ? user.email : ''}\n          />\n        </Card>\n        <UserPostsContainer>\n          {(posts, likes, status) => {\n            if (status === 'loading') {\n              return (\n                <>\n                  {this.renderPostsCounter(0, 0)}\n                  <div className={classes.center}>\n                    <CircularProgress className={classes.progress} size={30} thickness={5} />\n                  </div>\n                </>\n              )\n            }\n            return (\n              <>\n                {this.renderPostsCounter(posts.length, likes.length)}\n                {view === 'posts' ? renderList(posts) : renderList(likes)}\n              </>\n            )\n          }\n          }\n        </UserPostsContainer>\n        <BottomAppNavigation />\n      </>\n    )\n  }\n}\n\nProfile.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Profile);","export const dataURItoBlob = (dataURI) => {\n    var byteString = atob(dataURI.split(\",\")[1]);\n    var mimeString = dataURI\n        .split(\",\")[0]\n        .split(\":\")[1]\n        .split(\";\")[0];\n    var ab = new ArrayBuffer(byteString.length);\n    var ia = new Uint8Array(ab);\n    for (var i = 0; i < byteString.length; i++) {\n        ia[i] = byteString.charCodeAt(i);\n    }\n    var blob = new Blob([ab], { type: mimeString });\n    return blob;\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport * as classNames from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Button } from '@material-ui/core';\nimport CameraIcon from '@material-ui/icons/Camera';\n\nconst styles = theme => ({\n  captureButton: {\n    fontSize: '46px'\n  },\n});\n\nconst cx = classNames.bind(styles)\n\nclass CapturePhoto extends PureComponent {\n  componentDidMount() {\n    if (this.props.camera) {\n      this.showCamera()\n    }\n  }\n\n  showCamera = () => {\n    navigator.mediaDevices.getUserMedia({ video: true }).then(stream => {\n      this.videoStream.srcObject = stream;\n    }).catch(err => {\n      console.log(err)\n    })\n  }\n\n  render() {\n    const { classes, captureImage, imgSent } = this.props;\n    const videoClass = cx({\n      video: true,\n      hidden: imgSent\n    });\n\n    const canvasClass = cx({\n      canva: true,\n      hidden: !imgSent\n    });\n\n    const buttonClass = cx({\n      captureButton: true,\n      hidden: imgSent\n    });\n\n    return (\n      <>\n        <video\n          className={videoClass}\n          autoPlay\n          ref={(stream) => { this.videoStream = stream }}\n        />\n        <canvas\n          className={canvasClass}\n          ref={(canvas) => { this.canvas = canvas }}\n          width=\"320px\"\n          height=\"240px\"\n        />\n        <Button\n          className={buttonClass}\n          color=\"primary\"\n          type=\"button\"\n          onClick={() => captureImage(this.canvas, this.videoStream)}\n          ref={(captureButton) => { this.captureButton = captureButton }}\n        >\n          <CameraIcon className={classes.captureButton} />\n        </Button>\n      </>\n\n    )\n  }\n}\n\n\nCapturePhoto.propTypes = {\n  classes: PropTypes.object.isRequired,\n  captureImage: PropTypes.func,\n  imgSent: PropTypes.bool,\n  camera: PropTypes.bool\n};\n\n\nexport default withStyles(styles)(CapturePhoto);","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { TextField } from '@material-ui/core';\n\n\nconst styles = theme => ({\n  textField: {\n    width: '100%'\n  },\n  button: {\n    width: '100%',\n    marginTop: theme.spacing.unit * 2\n  }\n});\n\nclass AddInfo extends PureComponent {\n  render() {\n    const { classes, handleChange, values } = this.props;\n    return (\n      <>\n        <TextField\n          id=\"outlined-name\"\n          label=\"Krótki opis\"\n          className={classes.textField}\n          value={values.shortText}\n          onChange={handleChange('shortText')}\n          margin=\"normal\"\n          variant=\"outlined\"\n        />\n        <TextField\n          id=\"outlined-name\"\n          label=\"Długi opis\"\n          className={classes.textField}\n          value={values.longText}\n          onChange={handleChange('longText')}\n          margin=\"normal\"\n          variant=\"outlined\"\n        />\n        <TextField\n          id=\"outlined-name\"\n          label=\"Lokalizacja\"\n          className={classes.textField}\n          value={values.geo}\n          onChange={handleChange('geo')}\n          margin=\"normal\"\n          variant=\"outlined\"\n        />\n      </>\n    )\n  }\n}\n\nAddInfo.propTypes = {\n  classes: PropTypes.object.isRequired,\n  handleChange: PropTypes.func.isRequired,\n  values: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(AddInfo);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class AddFile extends Component {\n\trender() {\n\t\tconst { handleAddFile } = this.props;\n\t\treturn (\n\t\t\t<div id=\"pick-image\">\n\t\t\t\t<p>Wybierz zdjęcie:</p>\n\t\t\t\t<input type=\"file\" accept=\"image/*\" id=\"image-picker\" onChange={handleAddFile} />\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAddFile.propTypes = {\n\thandleAddFile: PropTypes.func.isRequired\n};\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport firebase from '../helpers/firebase';\nimport uuid from 'uuid';\nimport { dataURItoBlob } from '../helpers/imageFiles';\nimport Grid from '@material-ui/core/Grid';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Button } from '@material-ui/core';\nimport * as classNames from 'classnames';\nimport CapturePhoto from '../components/CapturePhoto';\nimport AddInfo from '../components/AddInfo';\nimport BottomAppNavigation from '../components/BottomAppNavigation';\nimport Navigation from '../components/Navigation';\nimport AddFile from '../components/AddFile';\n\nconst styles = theme => ({\n  layout: {\n    width: 'auto',\n    marginLeft: 0,\n    marginRight: 0,\n    [theme.breakpoints.up(1100 + theme.spacing.unit * 3 * 2)]: {\n      width: 1100,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    }\n  },\n  container: {\n    padding: 40\n  },\n  form: {\n    ...theme.mixins.gutters(),\n    paddingTop: theme.spacing.unit * 2,\n    paddingBottom: theme.spacing.unit * 2\n  },\n  textField: {\n    width: '100%'\n  },\n  button: {\n    width: '100%',\n    marginTop: 15,\n    height: 50\n  }\n});\n\nclass AddPost extends PureComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      imageId: '',\n      postId: '',\n      user: null,\n      data: '',\n      img: '',\n      geo: '',\n      shortText: '',\n      longText: '',\n      step: 2,\n      imgSent: false,\n      camera: false\n    }\n  }\n\n  getCity(lat, long) {\n    return fetch(\"https://us1.locationiq.com/v1/reverse.php?key=2c35b6ae22579a&lat=\" + lat + \"&lon=\" + long + \"&format=json\", {\n      \"async\": true,\n      \"crossDomain\": true,\n      \"method\": \"GET\"\n    }).then(res => res.json()).then(res => {\n      if (res.address.city) {\n        return res.address.city;\n      } else {\n        return res.address.town\n      }\n    })\n  }\n\n  componentDidMount() {\n    //check if there is navigation, if there is, autofill locatization\n    if (\"geolocation\" in navigator) {\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          this.getCity(position.coords.latitude, position.coords.longitude)\n            .then(city => {\n              this.setState({\n                geo: city\n              })\n            })\n        },\n        (err) => {\n          console.log(err);\n        }\n      )\n    }\n\n    //check if we have access to the camera\n    if ('mediaDevices' in navigator) {\n      if ('getUserMedia' in navigator.mediaDevices) {\n        this.setState({\n          camera: true,\n          step: 1\n        })\n      }\n    }\n\n    const current_user = JSON.parse(localStorage.getItem('user_data'));\n    this.setState({\n      user: {\n        id: current_user.uid,\n        name: current_user.displayName\n      }\n    })\n  }\n\n  handleChange = name => event => {\n    this.setState({\n      [name]: event.target.value,\n    });\n  };\n\n  handleAddFile = event => {\n    this.setState({\n      img: event.target.files[0],\n      imgSent: true\n    });\n  };\n\n  handleSend = () => {\n    //add photo \n    const imageId = uuid();\n    const postId = uuid();\n    const storage = firebase.storage();\n    const imgRef = storage.ref().child('images').child(imageId);\n    let today = new Date();\n    today = today.getTime()\n    imgRef.put(this.state.img).then(() => {\n      imgRef.getDownloadURL().then((url) => {\n        //add content\n        const itemsRef = firebase.database().ref('posts/' + postId);\n        const item = {\n          postId: postId,\n          imageid: imageId,\n          user: this.state.user,\n          data: today,\n          img: url,\n          geo: this.state.geo,\n          shortText: this.state.shortText,\n          longText: this.state.longText,\n          likes: {\n            count: 0\n          }\n        }\n        itemsRef.set(item);\n        this.setState({\n          postId: '',\n          imageId: '',\n          data: '',\n          img: '',\n          geo: '',\n          shortText: '',\n          longText: ''\n        });\n        this.props.history.goBack()\n      })\n    }).catch((err) => {\n      console.log(err)\n    });\n  }\n\n  handleSwitch = (step) => () => {\n    this.setState({\n      step,\n      imgSent: false\n    })\n  }\n\n  captureImage = (canvas, video) => {\n    const context = canvas.getContext('2d');\n    const width = canvas.width;\n    const height = video.videoHeight / (video.videoWidth / canvas.width);\n    context.drawImage(video, 0, 0, width, height);\n    video.srcObject.getVideoTracks().forEach(track => {\n      track.stop()\n    })\n    const img = dataURItoBlob(canvas.toDataURL())\n    this.setState({\n      imgSent: true,\n      img\n    })\n  }\n\n  renderStep = (step) => {\n    const { classes } = this.props;\n    const { imgSent, camera, longText, shortText, geo } = this.state;\n    const values = { longText, shortText, geo };\n    switch (step) {\n      case 1:\n        return <CapturePhoto captureImage={this.captureImage} imgSent={imgSent} camera={camera} />\n      case 2:\n        return (\n          <div className={classes.container}>\n            <AddFile handleAddFile={this.handleAddFile} />\n          </div>\n        )\n      case 3:\n        return (\n          <div className={classes.container}>\n            <AddInfo handleChange={this.handleChange} values={values} />\n            <Button variant=\"contained\" color=\"primary\" className={classes.button} onClick={this.handleSend}>Opublikuj</Button>\n          </div>\n        )\n      default:\n        return <CapturePhoto captureImage={this.captureImage} imgSent={imgSent} camera={camera} />\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { step, imgSent, camera } = this.state;\n    return (\n      <>\n        <Navigation handleSwitch={this.handleSwitch} imgSent={imgSent} step={step} />\n        <div className={classNames(classes.layout, classes.cardGrid)}>\n          <Grid container spacing={0}>\n            <Grid item xs={12}>\n              <form noValidate autoComplete=\"off\">\n                {this.renderStep(step)}\n              </form>\n            </Grid>\n          </Grid>\n        </div>\n        <BottomAppNavigation handleSwitch={this.handleSwitch} step={step} camera={camera} />\n      </>\n    )\n  }\n}\n\nAddPost.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(AddPost);","import { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nclass ScrollToTop extends Component {\n  componentDidUpdate(prevProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      window.scrollTo(0, 0);\n    }\n  }\n\n  render() {\n    return this.props.children;\n  }\n}\n\nexport default withRouter(ScrollToTop);","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { auth } from 'helpers/firebase.js';\nimport firebase from '../helpers/firebase';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport FormControl from '@material-ui/core/FormControl';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport LockIcon from '@material-ui/icons/LockOutlined';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Navigation from 'components/Navigation';\nimport BottomAppNavigation from 'components/BottomAppNavigation';\n\nconst styles = theme => ({\n  main: {\n    width: 'auto',\n    display: 'block', // Fix IE 11 issue.\n    marginLeft: theme.spacing.unit * 3,\n    marginRight: theme.spacing.unit * 3,\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\n      width: 400,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    },\n  },\n  paper: {\n    marginTop: theme.spacing.unit * 5,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\n  },\n  avatar: {\n    margin: theme.spacing.unit,\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing.unit,\n  },\n  submit: {\n    marginTop: theme.spacing.unit * 3,\n  },\n  typeLink: {\n    marginTop: 20,\n    display: 'flex',\n    flexDirection: 'column',\n    textAlign: 'center'\n  }\n});\n\nclass Login extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      login: '',\n      password: '',\n      username: '',\n      user: null,\n      type: 'login'\n    }\n  }\n\n  handleChange = name => event => {\n    this.setState({\n      [name]: event.target.value,\n    });\n  };\n\n  catchError = (error) => {\n    let errorMessage = error.message;\n    alert(errorMessage)\n  }\n\n  login = (email, password) => {\n    auth.signInWithEmailAndPassword(email, password).then(() => {\n      this.props.history.push('/')\n    }, (error) => { this.catchError(error) })\n  }\n\n  register = (email, password) => {\n    auth.createUserWithEmailAndPassword(email, password).catch((error) => { this.catchError(error) }).then(() => {\n      auth.currentUser.updateProfile({\n        displayName: this.state.username\n      })\n      const userId = auth.currentUser.uid;\n      const usersRef = firebase.database().ref('users/' + userId);\n      const user = {\n        id: userId,\n        username: this.state.username,\n        email: email\n      }\n      usersRef.set(user).then(() => {\n        this.props.history.goBack().reload();\n      });\n    });\n\n  }\n\n  toggleType = () => {\n    this.setState(({ type }) => ({\n      type: type === \"login\" ? \"register\" : \"login\"\n    }))\n  }\n\n  componentWillUnmount() {\n    this.setState({\n      login: '',\n      password: '',\n      username: '',\n      user: null\n    })\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { type, login, password } = this.state;\n\n    return (\n      <main className={classes.main}>\n        <Navigation />\n        <CssBaseline />\n        <Paper className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            {type === 'login' ? 'Zaloguj się' : 'Zarejestruj się'}\n          </Typography>\n          <form className={classes.form}>\n            <FormControl margin=\"normal\" required fullWidth>\n              <InputLabel htmlFor=\"email\">Email</InputLabel>\n              <Input id=\"email\" name=\"email\" autoComplete=\"email\" autoFocus onChange={this.handleChange('login')} />\n            </FormControl>\n            <FormControl margin=\"normal\" required fullWidth>\n              <InputLabel htmlFor=\"password\">Hasło</InputLabel>\n              <Input name=\"password\" type=\"password\" id=\"password\" autoComplete=\"current-password\" onChange={this.handleChange('password')} />\n            </FormControl>\n            {type === 'register' ?\n              <FormControl margin=\"normal\" required fullWidth>\n                <InputLabel htmlFor=\"email\">Login</InputLabel>\n                <Input id=\"username\" name=\"username\" onChange={this.handleChange('username')} />\n              </FormControl>\n              : ''}\n            <Button\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick={() => type === 'login' ? this.login(login, password) : this.register(login, password)}\n            >\n              {type === 'login' ? 'Zaloguj się' : 'Zarejestruj się'}\n            </Button>\n            <small className={classes.typeLink}>{type === 'login' ? 'Nie masz jeszcze konta?' : 'Masz już konto?'}\n              <Button color=\"primary\" className={classes.button} onClick={this.toggleType}>\n                {type === 'login' ? 'Zarejestruj się' : 'Zaloguj się'}\n              </Button></small>\n          </form>\n        </Paper>\n        <BottomAppNavigation />\n      </main>\n    );\n  }\n}\n\nLogin.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Login);","import { PureComponent } from 'react';\nimport firebase from '../helpers/firebase';\n\n\nexport default class PostsContainer extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      status: 'loading',\n      post: null\n    }\n  }\n\n  componentDidMount() {\n    this.getPost();\n  }\n\n  componentWillUnmount() {\n    this.postRef.off();\n  }\n\n  getPost = () => {\n    const { id } = this.props;\n    this.postRef = firebase.database().ref('posts/' + id);\n    let post = [];\n\n    this.postRef.on('value', (snapshot) => {\n      post = snapshot.val();\n      this.setState({ post, status: 'loaded' })\n    });\n  }\n\n  render() {\n    return this.props.children(this.state.post, this.state.status)\n  }\n\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport firebase from '../helpers/firebase';\nimport { withStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Dialog from '@material-ui/core/Dialog';\n\nconst styles = theme => ({\n  action: {\n    textAlign: 'center',\n    padding: 0,\n    minWidth: 200\n  },\n  actionList: {\n    padding: 0\n  },\n  border: {\n    borderBottom: '1px solid #eee'\n  }\n});\n\nclass PostActions extends Component {\n  handleDelete = (id) => {\n    window.history.go(-1)\n    firebase.database().ref('posts/' + id).remove();\n  }\n\n  render() {\n    const { classes, onClose, selectedValue, id, ...other } = this.props;\n\n    return (\n      <Dialog onClose={() => onClose()} aria-labelledby=\"simple-dialog-title\" {...other}>\n        <div>\n          <List className={classes.actionList}>\n            <ListItem button className={classes.border} onClick={() => this.handleDelete(id)}>\n              <ListItemText primary=\"Usuń\" className={classes.action} />\n            </ListItem>\n            <ListItem button onClick={() => onClose()}>\n              <ListItemText primary=\"Anuluj\" className={classes.action} />\n            </ListItem>\n          </List>\n        </div>\n      </Dialog>\n    )\n  }\n}\n\nPostActions.propTypes = {\n  classes: PropTypes.object.isRequired,\n  onClose: PropTypes.func,\n  selectedValue: PropTypes.string,\n  id: PropTypes.string.isRequired\n};\n\n\nexport default withStyles(styles)(PostActions);\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Navigation from '../components/Navigation';\nimport BottomAppNavigation from '../components/BottomAppNavigation';\nimport PostContainer from '../containers/PostContainer';\nimport PostCard from 'components/PostCard';\nimport { CircularProgress, Typography } from '@material-ui/core';\nimport PostActions from '../components/PostActions';\n\n\nconst styles = theme => ({\n  center: {\n    width: '100%',\n    height: '100vh',\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});\n\nclass Post extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      open: false,\n      selectedValue: '',\n    }\n  }\n  handleClickOpen = () => {\n    this.setState({\n      open: true,\n    });\n  };\n\n  handleClose = value => {\n    this.setState({ selectedValue: value, open: false });\n  };\n  render() {\n    const { id, classes } = this.props;\n    const userId = localStorage.getItem('user_data') ? JSON.parse(localStorage.getItem('user_data')).uid : null;\n    return (\n      <>\n        <PostContainer id={id}>\n          {(post, status) => {\n            if (status === 'loading') {\n              return (\n                <>\n                  <Navigation singlePost={true} />\n                  <div className={classes.center}>\n                    <CircularProgress className={classes.progress} size={30} thickness={5} />\n                  </div>\n                </>\n              )\n            }\n\n            return (\n              (post ? (\n                <>\n                  <Navigation singlePost={true} openActions={post.user.id === userId ? this.handleClickOpen : false} />\n                  {post.user.id === userId ? (\n                    <PostActions\n                      selectedValue={this.state.selectedValue}\n                      open={this.state.open}\n                      onClose={this.handleClose}\n                      id={id}\n                    />\n                  ) : ''}\n                  <PostCard content={post} />\n                </>\n              ) : (\n                  <>\n                    <Navigation onlyBack={true} />\n                    <Typography\n                      variant=\"subheading\"\n                      className={classes.center}\n                    >\n                      Ten post nie istnieje!\n                  </Typography>\n                  </>\n                ))\n            )\n\n          }}\n        </PostContainer>\n        <BottomAppNavigation />\n      </>\n    )\n  }\n}\n\n\nPost.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Post);","import React, { Component } from 'react'\nimport firebase from '../helpers/firebase';\nimport BottomAppNavigation from '../components/BottomAppNavigation';\nimport Navigation from '../components/Navigation';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { Button, TextField, Divider, ExpansionPanelActions } from '@material-ui/core';\nimport SaveIcon from '@material-ui/icons/Save';\nimport { red } from '@material-ui/core/colors';\nimport { auth } from '../helpers/firebase';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport classnames from 'classnames';\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n    overflowX: 'hidden',\n    background: '#fdfdfd',\n    minHeight: '-webkit-fill-available'\n  },\n  panel: {\n    margin: '15px 0 !important',\n    boxShadow: 'none',\n    borderBottom: '1px solid #eee !important',\n    borderTop: '1px solid #eee !important'\n  },\n  panelButton: {\n    boxShadow: 'none',\n    borderBottom: '1px solid #eee !important',\n    borderTop: '1px solid #eee !important',\n    width: '100%',\n    textAlign: 'left',\n    padding: '15px 24px',\n    justifyContent: 'flex-start',\n    textTransform: 'none',\n    fontWeight: 'normal',\n    marginBottom: 15,\n    background: '#fff'\n  },\n  red: {\n    color: red[500]\n  },\n  heading: {\n    flexBasis: '40%',\n    flexShrink: 0,\n  },\n  secondaryHeading: {\n    color: theme.palette.text.secondary,\n  },\n  textField: {\n    margin: 0,\n    width: '100%',\n    borderRadius: '4px 0 0 4px'\n  },\n  form: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'space-between',\n    marginTop: 15\n  },\n  expanded: {\n    width: '100%'\n  },\n  iconSmall: {\n    color: '#212985'\n  },\n  button: {\n    background: '#fafafa',\n    border: '1px solid rgba(0, 0, 0, .2)',\n    borderLeft: 0,\n    borderRadius: '0 4px 4px 0'\n  }\n});\n\nclass Settings extends Component {\n  state = {\n    expanded: null,\n    login: null,\n    email: null,\n    password: null,\n    newLogin: null,\n    newEmail: null,\n    newPassword: null,\n    push: false\n  };\n\n  componentDidMount() {\n    const user = JSON.parse(localStorage.getItem('user_data'));\n    this.setState({\n      login: user.displayName,\n      email: user.email\n    })\n  }\n\n  handleChange = panel => (event, expanded) => {\n    this.setState({\n      expanded: expanded ? panel : false,\n    });\n  };\n\n  handleLogout = () => {\n    firebase.auth().signOut().then(() => {\n      localStorage.removeItem('user_data')\n      window.location.reload()\n    });\n  }\n\n  handleEdit = name => event => {\n    this.setState({\n      [name]: event.target.value,\n    });\n  };\n\n  handleToggle = name => event => {\n    this.setState({ [name]: event.target.checked });\n  };\n\n  handleUpdateFirebase = (type) => {\n    const userId = JSON.parse(localStorage.getItem('user_data')).uid;\n    if (type === 'email') {\n      firebase.database().ref('users/' + userId).update({\n        email: this.state.newEmail\n      })\n      firebase.auth().currentUser.updateEmail(this.state.newEmail);\n    } else if (type === 'login') {\n      firebase.database().ref('users/' + userId).update({\n        username: this.state.newLogin\n      })\n      firebase.auth().currentUser.updateProfile({\n        displayName: this.state.newLogin\n      })\n      this.authFirebaseListener = auth.onAuthStateChanged((user) => {\n        if (user) {\n          localStorage.setItem('user_data', JSON.stringify(user));\n        }\n      });\n    } else if (type === 'push') {\n      firebase.database().ref('users/' + userId).update({\n        push: this.state.push\n      })\n    }\n    this.setState({\n      expanded: null\n    })\n  };\n\n  render() {\n    const { classes } = this.props;\n    const { expanded, login, email, push } = this.state;\n    const settings = [\n      {\n        type: 'login',\n        new: 'newLogin',\n        heading: 'Login',\n        placeholder: login,\n        description: 'Zmień nazwę użytkownika:'\n      },\n      {\n        type: 'email',\n        new: 'newEmail',\n        heading: 'Email',\n        placeholder: email,\n        description: 'Zmień swój adres e-mail:'\n      },\n      {\n        type: 'password',\n        new: 'newPassword',\n        heading: 'Zmień hasło',\n        placeholder: '',\n        description: 'Zmień hasło:'\n      },\n      {\n        type: 'push',\n        heading: 'Powiadomienia',\n        placeholder: push ? 'włączone' : 'wyłączone',\n        description: 'Włącz / wyłącz powiadomienia push:'\n      }\n    ]\n    return (\n      <>\n        <Navigation onlyBack={true} />\n        <div className={classes.root}>\n          {settings.map((setting, index) => (\n\n            <ExpansionPanel key={index} expanded={expanded === 'panel' + (index + 1)} onChange={this.handleChange('panel' + (index + 1))} className={classes.panel}>\n              <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n                <Typography className={classes.heading}>{setting.heading}</Typography>\n                <Typography className={classes.secondaryHeading}>{setting.placeholder}</Typography>\n              </ExpansionPanelSummary>\n              <ExpansionPanelDetails>\n                <div className={classes.expanded}>\n                  <Typography className={classes.secondaryHeading}>{setting.description}</Typography>\n                  {setting.type === 'push' ? (\n                    <FormGroup row>\n                      <FormControlLabel\n                        control={\n                          <Switch\n                            checked={push}\n                            onChange={this.handleToggle('push')}\n                            value={!push}\n                          />\n                        }\n                        label={push ? 'włączone' : 'wyłączone'}\n                      />\n                    </FormGroup>\n                  ) : (\n                      <div className={classes.form}>\n                        <TextField\n                          id={`outlined-name-${index}`}\n                          label={setting.heading}\n                          className={classes.textField}\n                          onChange={this.handleEdit(setting.new)}\n                          margin=\"normal\"\n                          variant=\"outlined\"\n                          type={setting.type === 'password' ? 'password' : 'text'}\n                        />\n                      </div>\n                    )}\n                </div>\n              </ExpansionPanelDetails>\n              <Divider />\n              <ExpansionPanelActions>\n                <Button size=\"small\" onClick={this.handleChange('panel' + (index + 1))}>Anuluj</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.handleUpdateFirebase(setting.type)}>Zapisz</Button>\n              </ExpansionPanelActions>\n            </ExpansionPanel>\n          ))}\n          <Button className={classes.panelButton}>Dodaj do ekranu głównego</Button>\n          <Button className={classnames(classes.panelButton, classes.red)} onClick={() => this.handleLogout()}>Wyloguj się</Button>\n        </div>\n        <BottomAppNavigation />\n      </>\n    )\n  }\n}\n\nSettings.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Settings);","import React from 'react'\nimport Redirect from 'react-router-dom/Redirect';\nimport { Route } from 'react-router-dom';\n\nexport default ({ isLogged, component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={props => isLogged\n      ? <Component {...props} />\n      : <Redirect\n        to={{\n          pathname: \"/login\",\n          state: { from: props.location }\n        }}\n      />\n    }\n  />\n);","import React, { Component } from 'react'\nimport {\n  BrowserRouter as Router,\n  Route\n} from 'react-router-dom';\n// import firebase from './helpers/firebase';\nimport prompt from './helpers/prompt';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core';\nimport Home from 'layouts/Home';\nimport Profile from 'layouts/Profile';\nimport AddPost from 'layouts/AddPost';\nimport ScrollToTop from 'components/ScrollToTop';\nimport Login from 'layouts/Login';\nimport './App.css';\nimport { auth } from './helpers/firebase';\nimport Post from './layouts/Post';\nimport Settings from './layouts/Settings';\nimport PrivateRoute from './components/PrivateRoute'\nimport BrowserRouter from 'react-router-dom/BrowserRouter';\n\n//    \"start\": \"npm run build && http-server ./build\",\n\nconst styles = {\n  container: {\n    paddingTop: 50,\n    paddingBottom: 50,\n    minHeight: '100vh',\n    boxSizing: 'border-box'\n  }\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      user: localStorage.getItem('user_data') ? localStorage.getItem('user_data') : null\n    }\n  }\n\n  componentDidMount() {\n    // TODO: przeniesc przy cache\n    this.authFirebaseListener = auth.onAuthStateChanged((user) => {\n      if (user) {\n        this.setState({ user })\n        localStorage.setItem('user_data', JSON.stringify(user));\n        console.log(this.state.user)\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.authFirebaseListener && this.authFirebaseListener()\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { user } = this.state;\n    const isLogged = Boolean(user)\n    return (\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <ScrollToTop>\n          <div className={classes.container}>\n            <Route exact path=\"/\" component={Home} />\n            <Route exact path=\"/post/:id\" component={({ match }) => <Post id={match.params.id} />} />\n            <PrivateRoute isLogged={isLogged} exact path=\"/profile\" component={Profile} />\n            <PrivateRoute isLogged={isLogged} exact path=\"/add\" component={AddPost} />\n            <PrivateRoute isLogged={isLogged} exact path=\"/settings\" component={Settings} />\n            <Route exact path=\"/login\" component={Login} />\n          </div>\n        </ScrollToTop>\n      </BrowserRouter>\n    )\n  }\n}\n\nApp.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  if ('serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n\n//register custom service worker with workbox\nif ('serviceWorker' in navigator) {\n    // Use the window load event to keep the page load performant\n    window.addEventListener('load', () => {\n        navigator.serviceWorker.register('./sw.js');\n    });\n}"],"sourceRoot":""}