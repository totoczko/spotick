(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{167:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaIAAACcCAMAAAAK0l80AAAC4lBMVEXR1/Q4AIGEa7pdNZ2rodfIyu58YbW1sN9bMpt+YrbAv+dmQqRyUqx3WrE5AoHP1fM4AYGsotg7BYPP1PI5A4LL0PDQ1vTM0fE6A4I9CIXJy+7N0vGbi8vCwunCw+nP1PM8BoRrSaigk9DDxOrGye0+CYVDEYlGFItaMJpxUax5XLKLdL+zrt7BwejExerJze/O0/JGFYylmdKyrN3Hyu3KzvDLz+9AC4Y/DIZDEIlEEopHFoxJGI5NHZBVKZdsSqiHb7yUgcaVg8eildGontW7uOTMz/A6BIM/CoVADYdDD4hLG49QIpNdNJxeNp1kPaJjPqJqR6dvTqt6XbOBZreFbLuGbrySf8Wdjs2uptqvqNu8ueS+vOZBDYdKGo9PIZJTJpVhOZ9jPKFmQqN1V694W7GMdsCOecGQfMOVgseWhciXhsmYhsmZicqaisqhlNCxqty2suC4tOG5teK/v+fExevFxuvGyOzJzO89B4RCDohFEopIGI1JGY5NHpBNH5FOIJFQI5NRJJRWK5haMZppRaVtS6luTapxUKyBaLiCabmSgMWbjMyspNmyq9y0r962seC3s+G5tuO7uuW9u+ZIF41SJZRTJ5VWKpdfN55gOJ9nQ6RzU610VK1zVa57X7R9YbV/ZbaHcb2Jcr6Nd8COesKRfcSRfsSTgMaekM6nnNSondWon9aqoNero9iup9uwqdyzrd24teK/vubBwOjFx+xLHI9TJ5ZWLJhXLZlYLZhZL5liPKFkP6JlQKJmQaNoRKVpRqZuTKp3WLB3WbB6XrN+Y7WAZreBZ7iDarmIcL2Kc7+Kdb+Ldr+Qe8OVhMiYiMmej82gks+jltKjl9Klm9Omm9Stpdmupdq6t+O8uuVMHY9QIpJUKJZYLpleN55gOqBhO6BqR6ZrSKdtTKl0Vq58YLR+ZLaFbbuIcb6poNa/veZFE4tcM5xwT6t2V6+NeMGPe8KYh8mcjcyfkc+lmtPMwDLYAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfiCxITBAaJ98M0AAAMOklEQVR42u2dWVQUxxqAq4AjauKcYQ4PcA5wFI4ooA/IAwiKgHJEEEEFEQUXVBRXXF6Mxnjd9z3GGI17jFs0xuM1rtG4RE3UmJirZt+3e5O7vt+ema7q7qrqnp6emrl6839PdHd1dXd909VVf1U3CAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPwfcjjKT1xkD7s+Tg9osKIN9rM3okcdig18Dh5sKMqK6FGfMSrC4MGGov0RPWpDlIEZ4MGGogNQFE+6otegKCLArqqMSY4VvQ7lJ4fMaD+p3JbuK+K9Jd3WqaISKFw5tDUt0CXqlpcdKpoKhStXURK7oYW2X5OcKZoOhStXEVfRdaKKdjhTtAYKV66iT9gNhVRRW2eKDkHhylX0BrvhG6oow5miVChcuYrWsRuGUUUHnCnqC4UrV9FGdkNKurrlRYctuh5QuHIVbeG2xPkdzW91qOhwBM4+rsO2Ljg0Or/QdPDpUJQi2PZDYdmgDxxHF46G/dxLnsdyiB8y8ilQJC9Hoijsw2q+NqdrVHRoFOb6JE35Iyp6GN4Tf5St+Fkmo00yK2u+cro/PumK4uUrGhHeE6/AuGK2rMx+Us73zhOuKFe+onVhPe9nMP6TxOwOKrdkzpOt6K/yFa0Pa1MO4+zuMjNchfEXT7aiCvmKNoTztF+WPh5VgPFaeyln1s9KtpUweUSsrZ/R45z62SkBFTmpNDa3rkuzUDQ7nIri8TzJOU7E+IeAibr/XF3uv7ovuCYgmTZxyrfUbdnCjr4W57h+ljn+siJRLa8lq/mtd70Zql2LLnRiBtXZQ11xRJTzg2Vzfft5Pm0qNlFUql85lWTfTUp5Dsd4p2RF3TH+LECSjU1uXWcq97pxK9bVHv2+1CUcaD7XpbmXvnvm6bOJ2d5V2I2jZdhBXdGOz/mWoUvf/2K9SNFj3bpikvYVOeV5O+hRrMAswP2tEzS7mKLK/lCkaLM+vukneqYww33lbOG7l86Soqg2j93H1Uag6C1tVSq5uLGSijMT47/IVhQdoHP4uqCwVgsUJaPBXLpEQW23eZGo+Du2hK6odKBorwUnOEXak3KER11VKas4n8U4NgzN+PYWm0cmCC7bvYZX5P398CEmbprA/USTaNRvoSrq21mccf9WVhFtSox8Tl2zGD3FiraLrtp9iFd03C1K6TphzK5fvGnEcHloiuJMc85PZhSRXdJGkccmeooVtSfXefYYQrOGN/mqbncSX9G5FojLp5chuw2GX/qorYakWaEoKs0zdZ93xETRGCy96xVI0ci6CVXf1JCx/hm7x72z+x7TQ4kZpJBhX9Et8uRXl+t7KguTRc0FfydmwpRYlFNydaG2KlOfeLTW5jjgizenDp2v3Zu0zdAtRkEtwPwYArJSdFZ7rC27t14pi8NX1ZG/ylNIrGgsOZU5kVJ0Mlo9ZPlNZekaqfP7tGcaBwoxthUtVUuPNoK25OE6ZKLIU6T1lugjzKPr7zZjQRN3HF1ZKeq6FvAnJVC0hmayvYGu/HujIqyZb9H5l8hEovxSFCFFU3TP9VGTemoLZfpm1VTvmj/bv4uq/Hmc1tZMm4hMFA3UD2HH0hupA12XUkbuF4PlZnrmwwWK5tlSlE2yeF+fMGXRmNnIRFGNujBAbqzBQlGW92jfH0NpR1711/fpbdaitKNZSifRNdz5s6iPWnmYp6CGEowd0PWk+eChq3YJKz+Eisj60wJF5XYUvUZy+M5OjE7fZU2UHEU2V9RDKZAaEiO7pJ+/dEUp4DcdKxoacDoUVbSH2fA9ZifckJ5/OpvHiyTpTF5Rnh1FpN3ZMdmGIpe3vNQuq+cNFClFykUO05Zupg8z7HTGsaLppPB6Tw6gaD63JVfd8q66/KbpPN9pZEsRryjRjiLS4I6yE+lWbusRc9V+m/TJQKaKJmJ8wXSvxRh/7LhfpPU2ypYnWSlayW25wrS7V2HtV2xylMW8Io8NRbSxcNKOokTaZbV+BMhVtE0waVOrBC2nbQZQZHyZdlHmDDNFH3G7/sS83XkJmw4vLBLYa2sqlFO0x1y+QFEuIl3W3ihyitguopHOONuxIrSV6QgmDG4VKuL3pL/tNEOZ48t80sGCXMynl3CKxqsrPrOlqPM2ejETIqZoJsZXLHY7h93OFaGXuKDOewJFgp9IDtnhkfFWeY9PGoX5IHQQiojhd2wp0tM3UorWcu1YAxf0wd2gFaF2XCT1S17R2/x+DUw7jYQWBHMU92F+tC0IRUvtTcMXKMptiJCijdY/oHNW4w2BFaHSr9krK+QUCdrGR5mKrlJdXCG9onvX3sssAkXGbnw4n0UJuKfFbh1FUZQgFCG0qd0Y45UNs/EsOkhiCcgYcRGUSm/Mt7CDUFRLYjn2FW0lI0W7IqRoidVLM/8yBPodKfJG7oe3a9LGeuZyitaaNgbTmWWPect9oTNFq+19GUSnaCDaT/58EBlFk41XZ2SgMW7qUJE/EPgCubApbOmWmMX36FvDSdjsdWA6sttHoCglsCLaKS62qagCaS81N56KTHRBKbrfzcNs0UiSIhq00x4o5KpfYlNu9rCRzXiz94LonBD9rIi/qevm2IguFKhrnrenqJc3z7c6m7d0wqGo1Y3xbuGWV5SaZaQ8RcjDTMegv0w2+PI2F3gjAzT4ljElDYIaqsAm0xnYvKKrJIdJdhRl+19ZKiE7XY9MpNtbHf8sWK88o+OTUAiKVpadZO9XQ6hG6y4dN6Tbi7lR5w/py01zxDfRctH9mmRDUSvJoQsbWREpmqYunyd7HYuIIrRSOVQLt/bVgIEoa0WPC9kwidpJOs8pwp4s44H5Iqbd+kZduCi2go6XGnpvJGQwxIYi2jPCY/QJDxXQGK5eET0jMrukZ1pEFKEJSvN2GrNut+4340RRia8N96muriG1wzVeEcZLfiUdNW0EXC+4HvOfTDjQ32Q4Y6JR3NhkK0WbaLh3Hv3wRV/fEHPhKU7RPZrC4dcBnCpCQ5Q7xhjlLApUOwdQNI5ORSTX3dKffTHeOCGq643DaO2qc1p83G2Y+HdDN8eua4fJqSurdMPDTHiVNtPSb38SszJP110WzV3I0vIp2DHxfmrtJTLEWx7HKtLGVZZh86BUOBR5WwYJ+lHwScqxa1EIim7rAnOjv92z80IjfZqwXZrGCvH0mxqxdNFcKrbp1otJ0MlKke6bJlxMsZhRpGuakwF197HIKELVSp9SG5SYZiuUa1nRZZhddhSrKH+9R5SuK5vjGbMcO3LzbN9nk2RZKTKZ2eUdbGxgFOnew47Bkh9HAefRVeoG42e4RI/aIJsLRQnCqx7NBQZ6ojpBukphdSxiVKx5WIjeDv+xUmSW84JktqL7h6BRIutxFHiq42I6paVHgq5qcN7ozuktuOrnNnOKGpXnOzs/Hw8W5Vgnut2E3y3LYTNcZakI1Ql+T/GZfIvO8G1U+vp9bYQUeUd38r3vkfxbKYhqFLoihK5zn3ioTOHDa95XUvsZZ4Sm3zUJnHOPjd4mnx/rUWaYxN+CrBWhTZfZnM/GChrdhi8M15OZSq6HEVLk7VoO2H+oyvb7GDaiC788O0B31V89EEVA/e2HO1pAvOCGeYYbdubrulPbW0wTPqrW7txrli06lXUZujdj5k14KIwuGL/T3c6s2xs2Rclbg6tc7QWAGo7U7aqOjo7uMzlFHKQmoe9u04dlfH15fO3xABmu25s55OJX346vCfBZqxO156MHjdu5qp/tQjpelLm8unp80T/r0f8Ae9Pud/hu2++QTEXmkB4RAuwrQuijon22p5JLUhQPdoJSFAySFMF39mlsUvqHLC5634EERbKosZxX6owzVjO4QFGw3AnDfw0ZYDkzBRQFyQmZYXM/RzGuAkUSScfuUrk5djK+og+KJDyMOknN8KQr1K+JgSKGcsn/2uU0xvtAkVTuY+yeJC23lNGCyVWgKERueocfZ8nJq7gA4y4pkhSlgRuC71tIn/84NSY0+jYP9oavF4T8ZoD2DSCAkCrrG9AYu1aEfjokr/ZgRsfdQW4ZguYN3YLkKfoVvBif8x8XR4XGB0mSPoWMTf9vAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwB+H/wK/xenqhV5ufwAAAABJRU5ErkJggg=="},231:function(e,t,a){e.exports=a(434)},236:function(e,t,a){},401:function(e,t,a){},434:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(27),i=a.n(o),s=(a(236),a(10)),l=a(11),c=a(13),u=a(12),m=a(14),d=a(337),p=a(61),h=a.n(p),g=a(6),f=a(24),b=a(5),v=a.n(b),E=a(37),A=a.n(E),w=a(62),O=a.n(w);O.a.initializeApp({apiKey:"AIzaSyBot5tOfkhdUCvJsWh6sk--42syvvJwM4M",authDomain:"spot-pwa.firebaseio.com/",databaseURL:"https://spot-pwa.firebaseio.com",storageBucket:"spot-pwa.appspot.com"});new O.a.auth.GoogleAuthProvider;var j=O.a.auth(),y=O.a,k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getPosts=function(){a.postsRef=y.database().ref("posts").orderByChild("data");var e=[];a.postsRef.on("value",function(t){t.forEach(function(t){e.push(t.val())}),e.reverse(),a.setState({posts:e,status:"loaded"})})},a.state={status:"loading",posts:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getPosts()}},{key:"componentWillUnmount",value:function(){this.postsRef.off()}},{key:"render",value:function(){return this.props.children(this.state.posts,this.state.status)}}]),t}(n.PureComponent),x=a(47),N=a.n(x),S=a(48),C=a.n(S),I=a(75),K=a.n(I),F=a(36),R=a.n(F),T=a(25),Z=a.n(T),G=a(35),U=a.n(G),L=a(162),B=a.n(L),J=a(46),P=a.n(J),V=a(161),M=a.n(V),H=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleLike=function(e,t,n){if(t){var r=n.count,o=n.users?n.users:[],i=o.indexOf(t);i<0?(r++,o.push(t)):(r--,o.splice(i,1)),y.database().ref("posts/"+e).update({likes:{count:r,users:o}}),a.setState({likes:{count:r,users:o}})}},a.state={likes:{count:0,users:[]}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({likes:this.props.likes})}},{key:"render",value:function(){var e=this,t=this.state.likes,a=this.props,n=a.postId,o=a.classes,i=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")):null,s=!(!i||!t.users)&&t.users.indexOf(i.uid)>=0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{"aria-label":"Polajkuj",onClick:function(){return e.handleLike(n,i?i.uid:null,t)}},r.a.createElement(M.a,{className:s?o.liked:""})),r.a.createElement("span",{className:o.likes},t&&t.count))}}]),t}(n.Component),W=Object(g.withStyles)(function(e){return{likes:{fontSize:12,color:"#979797"},liked:{color:U.a[500]}}})(H),q=function(e){var t=new Date,a=new Date(e),n=a.getDate(),r=a.getMonth()+1;n<10&&(n="0"+n);var o=(t.getTime()-a.getTime())/1e3,i=Math.abs(Math.round(o/60)),s=function(e){return 1===e?"\u0119":e>1&&e<5?"y":""},l=i+" minut"+s(i)+" temu";if(i>=60&&i<1440){var c=Math.abs(Math.round(o/3600));l=c+" godzin"+s(c)+" temu"}else if(i>=1440){l=n+" "+["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","wrze\u015bnia","pa\u017adziernika","listopada","grudnia"][r]}return l},z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleExpandClick=function(){a.setState(function(e){return{expanded:!e.expanded}})},a.state={expanded:!1,time:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({time:q(this.props.content.data)}),this.interval=setInterval(function(){return e.setState({time:q(e.props.content.data)})},6e4)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.content,n=this.state.time,o=a.postId,i=a.user,s=a.img,l=a.geo,c=a.shortText,u=a.likes;return r.a.createElement(N.a,{className:t.card},r.a.createElement(C.a,{avatar:r.a.createElement(R.a,{className:t.avatar},i&&i.name[0].toUpperCase()),title:i.name,subheader:n}),r.a.createElement("img",{src:s,alt:c,className:t.media}),r.a.createElement(K.a,{className:t.info},r.a.createElement("div",{width:"80%"},r.a.createElement("p",{className:t.localization},r.a.createElement(B.a,{className:t.iconGeo}),l),r.a.createElement(Z.a,{component:"p"},c)),r.a.createElement("div",{width:"20%"},r.a.createElement(W,{likes:u,postId:o}))))}}]),t}(r.a.Component),D=Object(g.withStyles)(function(e){return{card:{maxWidth:400,borderRadius:0,boxShadow:"none"},media:{width:"100%"},actions:{display:"flex"},expand:Object(f.a)({transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),marginLeft:"auto"},e.breakpoints.up("sm"),{marginRight:-8}),expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:U.a[500]},localization:{color:"rgba(0, 0, 0, 0.54)",fontSize:12,display:"flex",alignItems:"center"},iconGeo:{width:14,height:14},info:{display:"flex",justifyContent:"space-between"}}})(z),Y=a(436),Q=a(340),X=a(58),_=a.n(X),$=a(38),ee=a.n($),te=a(163),ae=a.n(te),ne=a(165),re=a.n(ne),oe=a(164),ie=a.n(oe),se=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.location,n=e.handleSwitch,o=e.step,i=e.camera;return r.a.createElement(r.a.Fragment,null,"/add"!==a.pathname?r.a.createElement(_.a,{className:t.root},r.a.createElement(ee.a,{className:t.button,label:"Home",icon:r.a.createElement(Y.a,{to:"/",activeClassName:"iconactive",exact:!0,className:t.icon},r.a.createElement(ae.a,null))}),r.a.createElement(ee.a,{label:"Add",className:t.button,icon:r.a.createElement(Y.a,{to:"/add",activeClassName:"iconactive",exact:!0,className:t.icon},r.a.createElement(ie.a,null))}),r.a.createElement(ee.a,{label:"Profile",className:t.button,icon:r.a.createElement(Y.a,{to:"/profile",activeClassName:"iconactive",exact:!0,className:t.icon},r.a.createElement(re.a,null))})):r.a.createElement(_.a,{className:t.root},i&&r.a.createElement(ee.a,{className:v()(t.button,t.textButton+" "+(1===o&&"activeTextButton")),onClick:n(1),icon:"Zdj\u0119cie"}),r.a.createElement(ee.a,{className:v()(t.button,t.textButton+" "+(2===o&&"activeTextButton")),icon:"Galeria",onClick:n(2)})))}}]),t}(r.a.Component),le=Object(Q.a)(se),ce=Object(g.withStyles)({root:{width:"100%",position:"fixed",bottom:0,left:0,boxShadow:"none",borderTop:"1px solid #eee",backgroundColor:"#fafafa",zIndex:1},icon:{color:"#2129857a"},button:{color:"inherit"},flex:{display:"flex",alignItems:"center"},textButton:{color:"#2129857a",textTransform:"uppercase",fontWeight:500,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:"0.875rem",lineHeight:"0.875rem"}})(le),ue=a(339),me=a(76),de=a.n(me),pe=a(77),he=a.n(pe),ge=a(15),fe=a(169),be=a.n(fe),ve=a(168),Ee=a.n(ve),Ae=a(170),we=a.n(Ae),Oe=a(167),je=a.n(Oe),ye=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).goBack=function(){a.props.history.goBack()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.location,o=t.handleSwitch,i=t.imgSent,s=t.step,l=t.singlePost,c=t.openActions,u=t.onlyBack;return r.a.createElement("div",{className:a.root},r.a.createElement(de.a,{position:"fixed",className:a.appbar},r.a.createElement(he.a,{className:a.toolbar},!l&&!u&&r.a.createElement(ue.a,{to:"/",className:a.logo},r.a.createElement("img",{src:je.a,alt:"",className:a.logoimage})),(l||u)&&r.a.createElement(Ee.a,{className:a.link,onClick:function(){return e.goBack()}}),"/add"===n.pathname&&i&&3!==s&&r.a.createElement(ge.a,{className:a.link,onClick:o(3)},"Dalej"),"/add"===n.pathname&&i&&3===s&&r.a.createElement(ge.a,{className:a.link,onClick:o(1)},"Wr\xf3\u0107"),"/profile"===n.pathname&&r.a.createElement(ue.a,{to:"/settings"},r.a.createElement(be.a,{className:a.link})),l&&c&&r.a.createElement(we.a,{className:a.link,onClick:function(){return c()}}))))}}]),t}(r.a.Component),ke=Object(Q.a)(ye),xe=Object(g.withStyles)({root:{flexGrow:1},appbar:{backgroundColor:"#fafafa",boxShadow:"none",borderBottom:"1px solid #eee"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},logo:{display:"flex",alignItems:"center"},logoimage:{height:40},link:{color:"#212985"},lefticon:{marginRight:30},toolbar:{justifyContent:"space-between"}})(ke);var Ne=Object(g.withStyles)(function(e){return{layout:Object(f.a)({width:"auto",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(1100+3*e.spacing.unit*2),{width:1100,marginLeft:"auto",marginRight:"auto"}),cardGrid:{padding:"".concat(4*e.spacing.unit,"px 0 !important")},cardItemGrid:{padding:"0 !important"},cardItem:{width:"calc(100% + 48px)",margin:-24},center:{width:"100%",height:"100vh",position:"absolute",left:0,top:0,display:"flex",justifyContent:"center",alignItems:"center"}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:v()(t.layout,t.cardGrid)},r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,null),r.a.createElement(k,null,function(e,a){return"loading"===a?r.a.createElement("div",{className:t.center},r.a.createElement(ge.b,{className:t.progress,size:30,thickness:5})):r.a.createElement(A.a,{container:!0,spacing:40,className:t.cardItem},e.length>0?e.map(function(e,a){return r.a.createElement(A.a,{item:!0,key:a,xs:12,sm:6,md:4,lg:3,className:t.cardItemGrid},r.a.createElement(D,{content:e}))}):r.a.createElement(ge.h,{variant:"subheading",className:t.center},"Brak post\xf3w do wy\u015bwietlenia"))}),r.a.createElement(ce,null)))}),Se=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getPosts=function(){a.postsRef=y.database().ref("posts").orderByChild("data");var e=JSON.parse(localStorage.getItem("user_data")).uid,t=[],n=[];a.postsRef.on("value",function(r){r.forEach(function(a){a.val().user.id===e&&t.push(a.val()),a.val().likes.users&&a.val().likes.users.indexOf(e)>=0&&n.push(a.val())}),t.reverse(),n.reverse(),a.setState({posts:t,likes:n,status:"loaded"})})},a.state={status:"loading",likes:[],posts:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getPosts()}},{key:"componentWillUnmount",value:function(){this.postsRef.off()}},{key:"render",value:function(){return this.props.children(this.state.posts,this.state.likes,this.state.status)}}]),t}(n.PureComponent),Ce=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).switchView=function(e){a.setState({view:e})},a.state={view:"posts"},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"renderPostsCounter",value:function(e,t){var a=this,n=this.props.classes,o=this.state.view,i=0===e.length?0:e,s=0===t.length?0:t;return r.a.createElement("div",{className:n.postCounter},r.a.createElement("div",{className:v()(n.postCounterButton,"posts"===o?n.buttonActive:""),onClick:function(){return a.switchView("posts")}},r.a.createElement(ge.h,{variant:"overline",className:n.heading},"Moje posty"),r.a.createElement(ge.h,{variant:"overline",className:n.counter},i)),r.a.createElement("div",{className:v()(n.postCounterButton,"likes"===o?n.buttonActive:""),onClick:function(){return a.switchView("likes")}},r.a.createElement(ge.h,{variant:"overline",className:n.heading},"Polubione"),r.a.createElement(ge.h,{variant:"overline",className:n.counter},s)))}},{key:"render",value:function(){var e=this,t=this.state.view,a=this.props.classes,n=JSON.parse(localStorage.getItem("user_data")),o=function(e){return r.a.createElement(ge.e,{spacing:0,className:a.gridList},e.length>0?e.map(function(e,t){return r.a.createElement(ge.f,{cols:1,key:t,className:a.gridListTile},r.a.createElement(ue.a,{to:"/post/"+e.postId},r.a.createElement("img",{src:e.img,alt:e.shortText,className:a.gridImg})))}):r.a.createElement("div",{className:a.center},r.a.createElement(ge.h,{variant:"subheading"},"Brak post\xf3w do wy\u015bwietlenia")))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,null),r.a.createElement(N.a,{className:a.profile},r.a.createElement(C.a,{avatar:r.a.createElement(R.a,{className:a.avatar},n.displayName?n.displayName[0].toUpperCase():""),title:n?n.displayName:"",subheader:n?n.email:""})),r.a.createElement(Se,null,function(n,i,s){return"loading"===s?r.a.createElement(r.a.Fragment,null,e.renderPostsCounter(0,0),r.a.createElement("div",{className:a.center},r.a.createElement(ge.b,{className:a.progress,size:30,thickness:5}))):r.a.createElement(r.a.Fragment,null,e.renderPostsCounter(n.length,i.length),o("posts"===t?n:i))}),r.a.createElement(ce,null))}}]),t}(n.PureComponent),Ie=Object(g.withStyles)(function(e){return{profile:{maxWidth:400,borderRadius:0,boxShadow:"none"},avatar:{backgroundColor:U.a[500]},heading:{lineHeight:"1em",color:"#999",marginBottom:5,marginTop:15},counter:{lineHeight:"1em",marginBottom:15},gridList:{margin:"0 !important"},postCounter:{border:"1px solid #eee",textAlign:"center"},postCounterButton:{width:"50%",borderRight:"1px solid #eee",display:"inline-block",boxSizing:"border-box"},buttonActive:{background:"#fafafa"},center:{width:"100% !important",height:"100vh !important",zIndex:-1,position:"absolute",left:0,top:0,display:"flex",justifyContent:"center",alignItems:"center"},gridImg:{objectFit:"cover",width:"100%",height:"100%"}}})(Ce),Ke=a(171),Fe=a(118),Re=a.n(Fe),Te=function(e){for(var t=atob(e.split(",")[1]),a=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),r=new Uint8Array(n),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return new Blob([n],{type:a})},Ze=a(172),Ge=a.n(Ze),Ue=function(e){return{captureButton:{fontSize:"46px"}}},Le=b.bind(Ue),Be=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).showCamera=function(){navigator.mediaDevices.getUserMedia({video:!0}).then(function(e){a.videoStream.srcObject=e}).catch(function(e){console.log(e)})},a.state={elementHeight:300},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.camera&&(this.showCamera(),setTimeout(function(){e.setState({elementHeight:e.divRef.offsetHeight})},1e3))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.captureImage,o=t.imgSent,i=this.state.elementHeight,s=Le({video:!0,hidden:o}),l=Le({canva:!0,hidden:!o}),c=Le({captureButton:!0,hidden:o});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"video-container",ref:function(t){return e.divRef=t}},r.a.createElement("video",{className:s,autoPlay:!0,ref:function(t){e.videoStream=t}})),r.a.createElement("canvas",{className:l,ref:function(t){e.canvas=t},height:i}),r.a.createElement(ge.a,{className:c,color:"primary",type:"button",onClick:function(){return n(e.canvas,e.videoStream)},ref:function(t){e.captureButton=t}},r.a.createElement(Ge.a,{className:a.captureButton})))}}]),t}(n.PureComponent),Je=Object(g.withStyles)(Ue)(Be),Pe=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.handleChange,n=e.values;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.g,{id:"outlined-name",label:"Podpis",className:t.textField,value:n.shortText,onChange:a("shortText"),margin:"normal",variant:"outlined"}),r.a.createElement(ge.g,{id:"outlined-name",label:"Lokalizacja",className:t.textField,value:n.geo,onChange:a("geo"),margin:"normal",variant:"outlined"}))}}]),t}(n.PureComponent),Ve=Object(g.withStyles)(function(e){return{textField:{width:"100%"},button:{width:"100%",marginTop:2*e.spacing.unit}}})(Pe),Me=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.handleAddFile;return r.a.createElement("div",{id:"pick-image"},r.a.createElement("p",null,"Wybierz zdj\u0119cie:"),r.a.createElement("input",{type:"file",accept:"image/*",id:"image-picker",onChange:e}))}}]),t}(n.Component),He=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(f.a)({},e,t.target.value))}},a.handleAddFile=function(e){a.setState({img:e.target.files[0],imgSent:!0})},a.handleSend=function(){a.setState({status:"loading"});var e=Re()(),t=Re()(),n=y.storage().ref().child("images").child(e),r=new Date;r=r.getTime(),n.put(a.state.img).then(function(){n.getDownloadURL().then(function(n){var o=y.database().ref("posts/"+t),i={postId:t,imageid:e,user:a.state.user,data:r,img:n,geo:a.state.geo,shortText:a.state.shortText,likes:{count:0}};o.set(i),a.setState({postId:"",imageId:"",data:"",img:"",geo:"",shortText:""}),a.setState({status:"loaded"}),a.props.history.goBack()})}).catch(function(e){a.setState({status:"loaded"}),console.log(e)})},a.handleSwitch=function(e){return function(){a.setState({step:e,imgSent:!1})}},a.captureImage=function(e,t){var n=e.getContext("2d"),r=e.width;n.drawImage(t,0,0,r,e.height),t.srcObject.getVideoTracks().forEach(function(e){e.stop()});var o=Te(e.toDataURL());a.setState({imgSent:!0,img:o})},a.renderStep=function(e){var t=a.props.classes,n=a.state,o=n.imgSent,i=n.camera,s={shortText:n.shortText,geo:n.geo};switch(e){case 1:return r.a.createElement(Je,{captureImage:a.captureImage,imgSent:o,camera:i});case 2:return r.a.createElement("div",{className:t.container},r.a.createElement(Me,{handleAddFile:a.handleAddFile}));case 3:return r.a.createElement("div",{className:t.container},r.a.createElement(Ve,{handleChange:a.handleChange,values:s}),r.a.createElement(ge.a,{variant:"contained",color:"primary",className:t.button,onClick:a.handleSend},"Opublikuj"));default:return r.a.createElement(Je,{captureImage:a.captureImage,imgSent:o,camera:i})}},a.state={imageId:"",postId:"",user:null,data:"",img:"",geo:"",shortText:"",longText:"",step:2,imgSent:!1,camera:!1,status:"beforeSend"},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getCity",value:function(e,t){return fetch("https://us1.locationiq.com/v1/reverse.php?key=2c35b6ae22579a&lat="+e+"&lon="+t+"&format=json",{async:!0,crossDomain:!0,method:"GET"}).then(function(e){return e.json()}).then(function(e){return e.address.city?e.address.city:e.address.town})}},{key:"componentDidMount",value:function(){var e=this;"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(t){e.getCity(t.coords.latitude,t.coords.longitude).then(function(t){e.setState({geo:t})})},function(e){console.log(e)}),"mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices&&this.setState({camera:!0,step:1});var t=JSON.parse(localStorage.getItem("user_data"));this.setState({user:{id:t.uid,name:t.displayName}})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.step,n=t.imgSent,o=t.camera,i=t.status;return r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,{handleSwitch:this.handleSwitch,imgSent:n,step:a}),r.a.createElement("div",{className:b(e.layout,e.cardGrid)},r.a.createElement(A.a,{container:!0,spacing:0},r.a.createElement(A.a,{item:!0,xs:12},r.a.createElement("form",{noValidate:!0,autoComplete:"off"},this.renderStep(a))))),"loading"===i?r.a.createElement("div",{className:e.center},r.a.createElement(ge.b,{className:e.progress,size:30,thickness:5})):"",r.a.createElement(ce,{handleSwitch:this.handleSwitch,step:a,camera:o}))}}]),t}(n.PureComponent),We=Object(g.withStyles)(function(e){return{layout:Object(f.a)({width:"auto",marginLeft:0,marginRight:0},e.breakpoints.up(1100+3*e.spacing.unit*2),{width:1100,marginLeft:"auto",marginRight:"auto"}),container:{padding:40},form:Object(Ke.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit}),textField:{width:"100%"},button:{width:"100%",marginTop:15,height:50},center:{width:"100%",height:"100vh",position:"absolute",left:0,top:0,display:"flex",justifyContent:"center",alignItems:"center",background:"rgba(255,255,255,.5)",zIndex:1}}})(He),qe=a(437),ze=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(n.Component),De=Object(qe.a)(ze),Ye=a(49),Qe=a.n(Ye),Xe=a(78),_e=a.n(Xe),$e=a(41),et=a.n($e),tt=a(31),at=a.n(tt),nt=a(40),rt=a.n(nt),ot=a(173),it=a.n(ot),st=a(30),lt=a.n(st),ct=a(8),ut=a.n(ct),mt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(f.a)({},e,t.target.value))}},a.catchError=function(e){var t=e.message;alert(t)},a.login=function(e,t){j.signInWithEmailAndPassword(e,t).then(function(){a.props.history.push("/")},function(e){a.catchError(e)})},a.register=function(e,t){j.createUserWithEmailAndPassword(e,t).catch(function(e){a.catchError(e)}).then(function(){j.currentUser.updateProfile({displayName:a.state.username});var t=j.currentUser.uid,n=y.database().ref("users/"+t),r={id:t,username:a.state.username,email:e};n.set(r).then(function(){a.props.history.goBack().reload()})})},a.toggleType=function(){a.setState(function(e){return{type:"login"===e.type?"register":"login"}})},a.state={login:"",password:"",username:"",user:null,type:"login"},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){this.setState({login:"",password:"",username:"",user:null})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.type,o=a.login,i=a.password;return r.a.createElement("main",{className:t.main},r.a.createElement(xe,null),r.a.createElement(_e.a,null),r.a.createElement(lt.a,{className:t.paper},r.a.createElement(R.a,{className:t.avatar},r.a.createElement(it.a,null)),r.a.createElement(Z.a,{component:"h1",variant:"h5"},"login"===n?"Zaloguj si\u0119":"Zarejestruj si\u0119"),r.a.createElement("form",{className:t.form},r.a.createElement(et.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(rt.a,{htmlFor:"email"},"Email"),r.a.createElement(at.a,{id:"email",name:"email",autoComplete:"email",autoFocus:!0,onChange:this.handleChange("login")})),r.a.createElement(et.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(rt.a,{htmlFor:"password"},"Has\u0142o"),r.a.createElement(at.a,{name:"password",type:"password",id:"password",autoComplete:"current-password",onChange:this.handleChange("password")})),"register"===n?r.a.createElement(et.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(rt.a,{htmlFor:"email"},"Login"),r.a.createElement(at.a,{id:"username",name:"username",onChange:this.handleChange("username")})):"",r.a.createElement(Qe.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(){return"login"===n?e.login(o,i):e.register(o,i)}},"login"===n?"Zaloguj si\u0119":"Zarejestruj si\u0119"),r.a.createElement("small",{className:t.typeLink},"login"===n?"Nie masz jeszcze konta?":"Masz ju\u017c konto?",r.a.createElement(Qe.a,{color:"primary",className:t.button,onClick:this.toggleType},"login"===n?"Zarejestruj si\u0119":"Zaloguj si\u0119")))),r.a.createElement(ce,null))}}]),t}(n.Component),dt=ut()(function(e){return{main:Object(f.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:5*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit},typeLink:{marginTop:20,display:"flex",flexDirection:"column",textAlign:"center"}}})(mt),pt=(a(401),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getPost=function(){var e=a.props.id;a.postRef=y.database().ref("posts/"+e);var t=[];a.postRef.on("value",function(e){t=e.val(),a.setState({post:t,status:"loaded"})})},a.state={status:"loading",post:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getPost()}},{key:"componentWillUnmount",value:function(){this.postRef.off()}},{key:"render",value:function(){return this.props.children(this.state.post,this.state.status)}}]),t}(n.PureComponent)),ht=a(88),gt=a(57),ft=a.n(gt),bt=a(59),vt=a.n(bt),Et=a(60),At=a.n(Et),wt=a(79),Ot=a.n(wt),jt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleDelete=function(e){window.history.go(-1),y.database().ref("posts/"+e).remove()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.onClose,o=(t.selectedValue,t.id),i=Object(ht.a)(t,["classes","onClose","selectedValue","id"]);return r.a.createElement(Ot.a,Object.assign({onClose:function(){return n()},"aria-labelledby":"simple-dialog-title"},i),r.a.createElement("div",null,r.a.createElement(ft.a,{className:a.actionList},r.a.createElement(vt.a,{button:!0,className:a.border,onClick:function(){return e.handleDelete(o)}},r.a.createElement(At.a,{primary:"Usu\u0144",className:a.action})),r.a.createElement(vt.a,{button:!0,onClick:function(){return n()}},r.a.createElement(At.a,{primary:"Anuluj",className:a.action})))))}}]),t}(n.Component),yt=Object(g.withStyles)(function(e){return{action:{textAlign:"center",padding:0,minWidth:200},actionList:{padding:0},border:{borderBottom:"1px solid #eee"}}})(jt),kt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(e){a.setState({selectedValue:e,open:!1})},a.state={open:!1,selectedValue:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.classes,o=localStorage.getItem("user_data")?JSON.parse(localStorage.getItem("user_data")).uid:null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(pt,{id:a},function(t,i){return"loading"===i?r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,{singlePost:!0}),r.a.createElement("div",{className:n.center},r.a.createElement(ge.b,{className:n.progress,size:30,thickness:5}))):t?r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,{singlePost:!0,openActions:t.user.id===o&&e.handleClickOpen}),t.user.id===o?r.a.createElement(yt,{selectedValue:e.state.selectedValue,open:e.state.open,onClose:e.handleClose,id:a}):"",r.a.createElement(D,{content:t})):r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,{onlyBack:!0}),r.a.createElement(ge.h,{variant:"subheading",className:n.center},"Ten post nie istnieje!"))}),r.a.createElement(ce,null))}}]),t}(n.Component),xt=Object(g.withStyles)(function(e){return{center:{width:"100%",height:"100vh",position:"absolute",left:0,top:0,display:"flex",justifyContent:"center",alignItems:"center"}}})(kt),Nt=a(81),St=a.n(Nt),Ct=a(83),It=a.n(Ct),Kt=a(82),Ft=a.n(Kt),Rt=a(174),Tt=a.n(Rt),Zt=a(80),Gt=a(84),Ut=a.n(Gt),Lt=a(85),Bt=a.n(Lt),Jt=a(86),Pt=a.n(Jt),Vt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={expanded:null,login:null,email:null,password:null,newLogin:null,newEmail:null,newPassword:null,push:!1},a.handleChange=function(e){return function(t,n){a.setState({expanded:!!n&&e})}},a.handleLogout=function(){y.auth().signOut().then(function(){localStorage.removeItem("user_data"),window.location.reload()})},a.handleEdit=function(e){return function(t){a.setState(Object(f.a)({},e,t.target.value))}},a.handleToggle=function(e){return function(t){a.setState(Object(f.a)({},e,t.target.checked))}},a.handleUpdateFirebase=function(e){var t=JSON.parse(localStorage.getItem("user_data")).uid;"email"===e?(y.database().ref("users/"+t).update({email:a.state.newEmail}),y.auth().currentUser.updateEmail(a.state.newEmail)):"login"===e?(y.database().ref("users/"+t).update({username:a.state.newLogin}),y.auth().currentUser.updateProfile({displayName:a.state.newLogin}),a.authFirebaseListener=j.onAuthStateChanged(function(e){e&&localStorage.setItem("user_data",JSON.stringify(e))})):"push"===e&&y.database().ref("users/"+t).update({push:a.state.push}),a.setState({expanded:null})},a.handleInstall=function(){console.log("click"),h.a&&(h.a.prompt(),h.a.userChoice.then(function(e){"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),deferredPrompt=null}),console.log("ghjk"))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("user_data"));this.setState({login:e.displayName,email:e.email})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.expanded,o=a.login,i=a.email,s=a.push,l=[{type:"login",new:"newLogin",heading:"Login",placeholder:o,description:"Zmie\u0144 nazw\u0119 u\u017cytkownika:"},{type:"email",new:"newEmail",heading:"Email",placeholder:i,description:"Zmie\u0144 sw\xf3j adres e-mail:"},{type:"password",new:"newPassword",heading:"Zmie\u0144 has\u0142o",placeholder:"",description:"Zmie\u0144 has\u0142o:"},{type:"push",heading:"Powiadomienia",placeholder:s?"w\u0142\u0105czone":"wy\u0142\u0105czone",description:"W\u0142\u0105cz / wy\u0142\u0105cz powiadomienia push:"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,{onlyBack:!0}),r.a.createElement("div",{className:t.root},l.map(function(a,o){return r.a.createElement(St.a,{key:o,expanded:n==="panel"+(o+1),onChange:e.handleChange("panel"+(o+1)),className:t.panel},r.a.createElement(Ft.a,{expandIcon:r.a.createElement(Tt.a,null)},r.a.createElement(Z.a,{className:t.heading},a.heading),r.a.createElement(Z.a,{className:t.secondaryHeading},a.placeholder)),r.a.createElement(It.a,null,r.a.createElement("div",{className:t.expanded},r.a.createElement(Z.a,{className:t.secondaryHeading},a.description),"push"===a.type?r.a.createElement(Ut.a,{row:!0},r.a.createElement(Bt.a,{control:r.a.createElement(Pt.a,{checked:s,onChange:e.handleToggle("push"),value:!s}),label:s?"w\u0142\u0105czone":"wy\u0142\u0105czone"})):r.a.createElement("div",{className:t.form},r.a.createElement(ge.g,{id:"outlined-name-".concat(o),label:a.heading,className:t.textField,onChange:e.handleEdit(a.new),margin:"normal",variant:"outlined",type:"password"===a.type?"password":"text"})))),r.a.createElement(ge.c,null),r.a.createElement(ge.d,null,r.a.createElement(ge.a,{size:"small",onClick:e.handleChange("panel"+(o+1))},"Anuluj"),r.a.createElement(ge.a,{size:"small",color:"primary",onClick:function(){return e.handleUpdateFirebase(a.type)}},"Zapisz")))}),r.a.createElement(ge.a,{className:t.panelButton,onClick:function(){return e.handleInstall()}},"Dodaj do ekranu g\u0142\xf3wnego"),r.a.createElement(ge.a,{className:v()(t.panelButton,t.red),onClick:function(){return e.handleLogout()}},"Wyloguj si\u0119")),r.a.createElement(ce,null))}}]),t}(n.Component),Mt=Object(g.withStyles)(function(e){return{root:{width:"100%",overflowX:"hidden",background:"#fdfdfd",minHeight:"-webkit-fill-available"},panel:{margin:"15px 0 !important",boxShadow:"none",borderBottom:"1px solid #eee !important",borderTop:"1px solid #eee !important"},panelButton:{boxShadow:"none",borderBottom:"1px solid #eee !important",borderTop:"1px solid #eee !important",width:"100%",textAlign:"left",padding:"15px 24px",justifyContent:"flex-start",textTransform:"none",fontWeight:"normal",marginBottom:15,background:"#fff"},red:{color:Zt.red[500]},heading:{flexBasis:"40%",flexShrink:0},secondaryHeading:{color:e.palette.text.secondary},textField:{margin:0,width:"100%",borderRadius:"4px 0 0 4px"},form:{width:"100%",display:"flex",justifyContent:"space-between",marginTop:15},expanded:{width:"100%"},iconSmall:{color:"#212985"},button:{background:"#fafafa",border:"1px solid rgba(0, 0, 0, .2)",borderLeft:0,borderRadius:"0 4px 4px 0"}}})(Vt),Ht=a(175),Wt=a.n(Ht),qt=function(e){var t=e.isLogged,a=e.component,n=Object(ht.a)(e,["isLogged","component"]);return r.a.createElement(d.a,Object.assign({},n,{render:function(e){return t?r.a.createElement(a,e):r.a.createElement(Wt.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},zt=a(176),Dt=a.n(zt),Yt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={user:localStorage.getItem("user_data")?localStorage.getItem("user_data"):null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.authFirebaseListener=j.onAuthStateChanged(function(t){t&&(e.setState({user:t}),localStorage.setItem("user_data",JSON.stringify(t)),console.log(e.state.user))})}},{key:"componentWillUnmount",value:function(){this.authFirebaseListener&&this.authFirebaseListener()}},{key:"render",value:function(){var e=this.props.classes,t=this.state.user,a=Boolean(t);return r.a.createElement(Dt.a,{basename:"/spotick"},r.a.createElement(De,null,r.a.createElement("div",{className:e.container},r.a.createElement(d.a,{exact:!0,path:"/",component:Ne}),r.a.createElement(d.a,{exact:!0,path:"/post/:id",component:function(e){var t=e.match;return r.a.createElement(xt,{id:t.params.id})}}),r.a.createElement(qt,{isLogged:a,exact:!0,path:"/profile",component:Ie}),r.a.createElement(qt,{isLogged:a,exact:!0,path:"/add",component:We}),r.a.createElement(qt,{isLogged:a,exact:!0,path:"/settings",component:Mt}),r.a.createElement(d.a,{exact:!0,path:"/login",component:dt}))))}}]),t}(n.Component),Qt=Object(g.withStyles)({container:{paddingTop:50,paddingBottom:50,minHeight:"100vh",boxSizing:"border-box"}})(Yt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Qt,null),document.getElementById("root")),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("./sw.js")})},61:function(e,t){window.addEventListener("beforeinstallprompt",function(e){console.log("beforeinstallprompt fired"),e.preventDefault(),e})}},[[231,2,1]]]);
//# sourceMappingURL=main.22862748.chunk.js.map